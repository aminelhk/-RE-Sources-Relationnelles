{"ast":null,"code":"import { useRef, useState } from \"react\";\n/** https://stackoverflow.com/questions/65890278/why-cant-usecallback-always-return-the-same-ref */\nexport function useConstCallback(callback) {\n  const callbackRef = useRef(null);\n  callbackRef.current = callback;\n  return useState(() => (...args) => callbackRef.current(...args))[0];\n}","map":{"version":3,"names":["useRef","useState","useConstCallback","callback","callbackRef","current","args"],"sources":["C:\\Users\\alban\\node_modules\\@codegouvfr\\react-dsfr\\src\\tools\\powerhooks\\useConstCallback.ts"],"sourcesContent":["import { useRef, useState } from \"react\";\nimport { Parameters } from \"tsafe/Parameters\";\n\n/** https://stackoverflow.com/questions/65890278/why-cant-usecallback-always-return-the-same-ref */\nexport function useConstCallback<T extends ((...args: any[]) => unknown) | undefined | null>(\n    callback: NonNullable<T>\n): T {\n    const callbackRef = useRef<typeof callback>(null as any);\n\n    callbackRef.current = callback;\n\n    return useState(\n        () =>\n            (...args: Parameters<T>) =>\n                callbackRef.current(...args)\n    )[0] as T;\n}\n"],"mappings":"AAAA,SAASA,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AAGxC;AACA,OAAM,SAAUC,gBAAgBA,CAC5BC,QAAwB;EAExB,MAAMC,WAAW,GAAGJ,MAAM,CAAkB,IAAW,CAAC;EAExDI,WAAW,CAACC,OAAO,GAAGF,QAAQ;EAE9B,OAAOF,QAAQ,CACX,MACI,CAAC,GAAGK,IAAmB,KACnBF,WAAW,CAACC,OAAO,CAAC,GAAGC,IAAI,CAAC,CACvC,CAAC,CAAC,CAAM;AACb"},"metadata":{},"sourceType":"module","externalDependencies":[]}